<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        <form action="" id="form">
            
            <h2 style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">Relatório Entregas: </h2>
            <div id="header">
                <label for="date">Data:</label>
                <input type="date" id="data" name="date" >
                <input type="text" name="loja" placeholder="Nome da Loja" id="name"><br>
                <input type="number" id="phone" placeholder="tel:"> <br>
            </div>
            
            <div class="bloco">
                <input type="text" value="Vila Velha" id="vilavelha">
                <input type="number" placeholder="Quantidade" id="nvilavelha" value="0" class="num"><br>
            </div>
            <div class="bloco">
                
                <input type="text" value="Vitória" id="vitoria">
                <input type="number" placeholder="quantidade" id="nvitoria" value="0" class="num"><br>
            </div>
            <div class="bloco">
                <input type="text" value="Viana" id="viana" >
                <input type="number" placeholder="quantidade" id="nviana" value="0" class="num"><br>
            </div>
            <div class="bloco">
                <input type="text" value="Cariacica" id="cariacica">
                <input type="number" placeholder="quantidade" id="ncariacica" value="0" class="num"><br>
            </div>
            <div class="bloco">
                <input type="text" value="Cariacica Sede" id="cariacica-sede">
                <input type="number" placeholder="quantidade" id="ncariacica-sede" value="0" class="num"><br>
            </div>
            <div class="bloco">
                <input type="text" value="Serra" id="serra">
                <input type="number" placeholder="quantidade" id="nserra" value="0" class="num"><br>
            </div>
            <div class="bloc">
                <label for="Desconto">Desconto</label> <br>
                <input type="number" placeholder="Desconto" id="desc" value="0" name="Desconto" class="num">
                <label for="acrescimo">Acréscimo</label>
                <input type="number" placeholder="Acréscimo" id="acre" value="0" name="Acrescimo" class="num">
            </div>
            <textarea name="coment" id="coment" cols="35" rows="3"></textarea>
            <input type="submit" id="enviar" onclick="gotowhatsapp() ">
        </form>
    </div>
    <script>


        let ale =Math.floor( Math.random()*500)
         function gotowhatsapp() {
        
        var name = document.getElementById("name").value;
        var toUP = name.toUpperCase()
        var phone = document.getElementById("phone").value;
        var data = document.getElementById('data').value;


        //vila velha entregas
        var enVV = document.getElementById("vilavelha").value;
        var nVV = document.getElementById("nvilavelha").value;
        var contVV = nVV *10;

        //vitoria  entregas
        var enV = document.getElementById("vitoria").value;
        var nV = document.getElementById("nvitoria").value;
        var contV = nV * 15

        //viana  entregas
        var enVI = document.getElementById("viana").value;
        var nVI = document.getElementById("nviana").value;
        var contVI = nVI * 25


        //cariacica entregas
        var enCC = document.getElementById("cariacica").value;
        var nCC = document.getElementById("ncariacica").value;
        var contCC = nCC * 15
        
        

         //cariacica sede  entregas
        var enCS = document.getElementById("cariacica-sede").value;
        var nCS = document.getElementById("ncariacica-sede").value;
        var contCS = nCS * 25

        
        //serra  entregas
        var enS = document.getElementById("serra").value;
        var nS = document.getElementById("nserra").value;
        var contS = nS * 30

        var comentario = document.getElementById('coment').value
        


        //total
         var cVV = parseInt(nVV)
         var cCC = parseInt(nCC)
         var cCS = parseInt(nCS)
         var cV = parseInt(nV)
         var cVI = parseInt(nVI)
         var cS = parseInt(nS)
         var totalQ = cVV + cCC + cCS + cV + cVI + cS
        
         // acrescimo e desconto 
         var desc = document.getElementById('desc').value;
         var desconto =parseInt(desc)

         var acre = document.getElementById('acre').value;
         var acrescimo = parseInt(acre)

         //valor total
        var valorTotal = (contVV + contCC + contCS + contV + contVI + contS + acrescimo ) - desconto
         

        function arrumar(a,b,c) {
            if(a != 0) {
                return + a +" "+ b + " " +"R$"+ c+",00" + "%0a" + "%0a"
                
            }
            else {
                return ''
            
            }
        }

        function descont(x) {
            if(x != 0){
            return "Desconto: " + "" + x + "" + "%0a"
        }
        else {
            return ''
        }
    }

        function acres(y) {
            if(y != 0) {
                return "Acréscimo: " + ""+ y  +""+ "%0a"
            } else {
                return ''
            }
        }

         

        var url = "https://wa.me/" + 55 + phone +"?text="
        + "*Plandel Service*" + "%0a"
        + "-----------------------------------------------------------" + "%0a"
        + "Nome da Loja: " +"*"+ toUP+"*" +"%0a"
        + "%0a"
        + "Protocolo n: " + ale + "     "
        + "Data: "+ data + "%0a"
        + "-----------------------------------------------------------" + "%0a"
        + "Total de Entregas: " + totalQ + "%0a"
        + "%0a"
        + arrumar(nVV,enVV,contVV) 
        + arrumar(nV,enV,contV) 
        + arrumar(nVI,enVI,contVI) 
        + arrumar(nCC,enCC,contCC) 
        + arrumar(nCS,enCS,contCS) 
        + arrumar(nS,enS,contS) 
        + "%0a"
        + descont(desconto)
        + acres(acrescimo)
        + "Obs: " + comentario + "%0a"
        +"------------------------------------------------------------" + "%0a"
        +"               "+  "  *TOTAL*: " + "*R$" + valorTotal + ",00*" + "%0a"
        + "%0a"
        + "Pix: (27) 99993-0874 " + "%0a"
        +"https://picpay.me/kaio.plandel"
        window.open(url, '_blank').focus();
    }
    </script>
    
</body>
</html>